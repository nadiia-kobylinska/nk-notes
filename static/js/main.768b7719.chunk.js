(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{100:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),o=n(30),a=n.n(o),r=n(14),s=n(27),l=n(28),d=n(20),u=n(37),j=n(36),b=(n(100),n(155)),h=n(157),f=n(165),p=n(156),m=n(35),x=n.n(m),v=n(13),O=n(158),g=n(145),y=n(154),C=n(82),M=n.n(C),N=n(152),w=n(83),E=n.n(w),k=n(1),L=function(e){return Object(k.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(k.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Title"}),Object(k.jsx)("div",{ref:e.fieldRef,className:"text-field",contentEditable:"plaintext-only",id:"editfield",onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),e.counter]})},S=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).codeView=function(){},i.modeExecCommand=function(e){document.execCommand(e)},i.state={editor:e.editor.current},i.codeView=i.codeView.bind(Object(d.a)(i)),i.modeExecCommand=i.modeExecCommand.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsxs)(h.a,{children:[Object(k.jsx)(y.a,{onClick:function(){return e.modeExecCommand("bold")},children:Object(k.jsx)("b",{children:"B"})}),Object(k.jsx)(y.a,{onClick:function(){return e.modeExecCommand("italic")},children:Object(k.jsx)("i",{children:"I"})}),Object(k.jsx)(y.a,{onClick:function(){return e.modeExecCommand("underline")},children:Object(k.jsx)("u",{children:"U"})}),Object(k.jsx)(y.a,{onClick:function(){return e.modeExecCommand("insertUnorderedList")},children:"ul"}),Object(k.jsx)(y.a,{onClick:function(){return e.modeExecCommand("insertOrderedList")},children:"ol"})]})}}]),n}(i.Component),I=function(e){return Object(k.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(k.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Content"}),Object(k.jsx)(S,{editor:e.fieldRef}),Object(k.jsx)("div",{ref:e.fieldRef,className:"text-field html-field",contentEditable:!0,onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),e.counter]})};function T(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var i=0;i<e.childNodes.length&&(n=T(e.childNodes[i],t,n),0!==t.count);i++);return n}function R(e,t){if(t>=0){var n=window.getSelection(),i=T(e,{count:t});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}function F(e){var t,n=window.getSelection(),i=-1;if(n.focusNode&&function(e,t){for(;null!==e;){if(e.id===t.id)return!0;e=e.parentNode}return!1}(n.focusNode,e))for(t=n.focusNode,i=n.focusOffset;t&&t.id!==e.id;)if(t.previousSibling)i+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return i}var B=function(e,t,n,i){var c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t.innerText,a=n-o.length,r=100*o.length/n,s=F(t);if(c&&o.length>n){var l=o.slice(0,n),d=o.slice(n);d='<span style="background:red; color:#ffffff">'.concat(d,"</span>"),i.current.innerHTML=l+d,R(t,s)}return{valid:r<=100,count:a,percent:r<=100?r:100.1}};Element.prototype.removeAttributes=function(e){var t=this;e.forEach((function(e){return t.removeAttribute(e)}))};var A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.querySelectorAll(t).forEach((function(e){e.remove()})),e.querySelectorAll("*").forEach((function(e){"fixed"===e.style.position&&(e.style.position="absolute"),e.removeAttributes(n)}))},H=n(71);var D=function(e,t){return"change"===t.type?Object(H.a)(Object(H.a)({},e),t.payload):e},P=function(e){return 0!==e.percent&&Object(k.jsx)("div",{className:"characters",children:Object(k.jsx)("div",{className:e.count>=0?"circle-wrap":"circle-red circle-wrap",style:{"--deg":e.percent},children:Object(k.jsxs)("div",{className:"circle",children:[Object(k.jsx)("div",{className:"mask full",children:Object(k.jsx)("div",{className:"fill",children:" "})}),Object(k.jsx)("div",{className:"mask half",children:Object(k.jsx)("div",{className:"fill",children:" "})}),Object(k.jsx)("div",{className:"inside-circle",children:e.count<10&&Object(k.jsxs)("span",{className:e.count>=0?"text-orange":"text-red",children:[e.count," "]})})]})})})},_={loading:!1,title:"",content:"",editMode:!1,countCharTitle:0,percentCharTitle:0,countCharContent:0,percentCharContent:0},z=function(e){var t=Object(i.useReducer)(D,_),n=Object(v.a)(t,2),c=n[0],o=n[1],a=Object(i.useRef)(null),r=Object(i.useRef)(null);function s(){o({type:"change",payload:_}),a.current.innerHTML="",r.current.innerHTML="",a.current.focus()}function l(t){t.preventDefault(),o({type:"change",payload:{loading:!0}});try{var n=e.notes.findIndex((function(e){return e.id===c.editMode}));e.save({id:-1!==n?c.editMode:Date.now(),title:c.title||"No name",content:c.content||"empty"},n),s()}catch(i){console.log(i)}}Object(i.useEffect)((function(){e.id?e.id!==c.editMode&&o({type:"change",payload:{editMode:e.id}}):s()}),[e.id]),Object(i.useEffect)((function(){if(e.id&&c.editMode&&e.id===c.editMode){var t=e.notes.filter((function(t){return t.id===e.id}))[0];o({type:"change",payload:{content:t.content,title:t.title}}),a.current.innerHTML=t.title,r.current.innerHTML=t.content,a.current.focus()}}),[c.editMode]),e.id&&!c.editMode&&e.id!==c.editMode&&o({type:"change",payload:{editMode:e.id}});var d=""===c.content||""===c.title||c.percentCharTitle>100||c.percentCharContent>100;return Object(k.jsxs)(h.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{mt:1,"& .MuiTextField-root":{m:1,width:"100%"}},onSubmit:l,children:[Object(k.jsx)(h.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start"},children:Object(k.jsx)(O.a,{variant:"h4",component:"div",gutterBottom:!0,className:"fi=orm-title",sx:{mb:5},children:c.editMode?"Edit Note":"New Note"})}),Object(k.jsx)(L,{changeEv:function(e){var t=B(e,e.target,100,a);o({type:"change",payload:{countCharTitle:t.count,percentCharTitle:t.percent,title:e.target.innerText}})},fieldRef:a,counter:Object(k.jsx)(P,{count:c.countCharTitle,percent:c.percentCharTitle})}),Object(k.jsx)(I,{changeEv:function(e){A(e.target,"iframe, script, noscript, frame, form, input, textarea",["data-ga ","id","jsaction","jscontroller","onclick","data-ved","ping","data-google-query-id","itemprop"]);var t=B(e,e.target,1e3,r,!1);o({type:"change",payload:{countCharContent:t.count,percentCharContent:t.percent,content:e.target.innerHTML}})},fieldRef:r,counter:Object(k.jsx)(P,{count:c.countCharContent,percent:c.percentCharContent})}),Object(k.jsxs)(g.a,{direction:"row",spacing:4,sx:{mt:3,justifyContent:"flex-end"},children:[Object(k.jsx)(y.a,{"aria-label":"cancel",variant:"text",color:"secondary",startIcon:Object(k.jsx)(M.a,{}),onClick:e.cancel,children:"Cancel"}),Object(k.jsx)(N.a,{color:"secondary",onClick:l,loading:c.loading,loadingPosition:"start",startIcon:Object(k.jsx)(E.a,{}),variant:"contained",disabled:d,children:"Save"})]})]})},q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(k.jsx)(z,{id:this.props.id,cancel:this.props.cancel,notes:this.props.notes,save:this.props.save,create:this.props.create})}}]),n}(i.Component),J=n(150),U=function(e){return Object(k.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(k.jsx)(x.a,{}),size:"large",onClick:e.create,sx:{mb:5},children:"Create note"})},V=function(e){var t=e.data,n=t.title,c=t.content,o=Object(i.useRef)(null),a=Object(i.useState)(""),r=Object(v.a)(a,2),s=r[0],l=r[1],d=Object(i.useState)({top:0,left:0}),u=Object(v.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return o.current.querySelectorAll("a").forEach((function(e){e.addEventListener("click",x)})),function(){window.removeEventListener("click",x)}}),[e.data]),Object(i.useEffect)((function(){}),[s]);var f=function(){l("")},p=Boolean(s),m=p?"simple-popover":void 0,x=function(e){var t,n,i;e.preventDefault(),e.target.setAttribute("aria-describedby",m),l(e.target.getAttribute("href")),b({top:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.getBoundingClientRect().y)+(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.getBoundingClientRect().height),left:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getBoundingClientRect().x})};return Object(k.jsxs)(h.a,{component:"div",className:"notes-preview",sx:{mt:1,mb:10,flexGrow:1,width:"100%"},children:[Object(k.jsxs)(h.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start",flexWrap:"wrap-reverse"},children:[Object(k.jsx)(O.a,{variant:"h4",component:"div",gutterBottom:!0,className:"notes-title",sx:{mb:5},children:n}),Object(k.jsx)(U,{create:e.create})]}),Object(k.jsxs)(h.a,{component:"div",children:[Object(k.jsx)(O.a,{ref:o,variant:"body2",gutterBottom:!0,className:"notes-description",dangerouslySetInnerHTML:{__html:c}}),Object(k.jsxs)(J.a,{anchorReference:"anchorPosition",anchorPosition:{top:j.top,left:j.left},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:f,id:m,open:p,children:[Object(k.jsx)(O.a,{variant:"body3",sx:{p:1},children:"Open the link in a new tab?"}),Object(k.jsx)(y.a,{onClick:f,size:"small",children:"No"}),Object(k.jsx)(y.a,{onClick:function(){s&&window.open(s),f()},size:"small",children:"Yes"})]})]})]})},W=function(e){return Object(k.jsx)(V,{data:e.note,create:e.create})},K=function(e,t){var n=localStorage.getItem(e);return JSON.parse(n)||t},Y=K("list",[]),G=function(e){return localStorage.setItem("list",JSON.stringify(e))},X=function(e){return Object(k.jsxs)(h.a,{className:"fullscreen-container",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,m:1},children:[Object(k.jsx)(O.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"notes-title",sx:{textAlign:"center",mb:10},dangerouslySetInnerHTML:{__html:e.headline}}),Object(k.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(k.jsx)(x.a,{}),size:"large",onClick:e.create,children:"Create note"})]})},Q=n(160),Z=n(161),$=n(162),ee=n(163),te=n(164),ne=n(84),ie=n.n(ne),ce=n(85),oe=n.n(ce);function ae(e,t){return e.length>t?e.substring(0,t-1)+"...":e}var re=function(e){var t,n=e.data,i=n.title,c=n.content,o=n.id;return Object(k.jsx)(Q.a,{className:"notes-item",onClick:function(){return e.open(o)},children:Object(k.jsxs)(Z.a,{component:"div",children:[Object(k.jsxs)($.a,{children:[Object(k.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"div",className:"notes-title",children:i}),Object(k.jsx)(O.a,{variant:"body2",color:"text.secondary",className:"notes-description",dangerouslySetInnerHTML:{__html:ae((t=c,t.replace(/(<([^>]+)>)/gi,"")),200)}})]}),Object(k.jsxs)(ee.a,{className:"notes-btns",children:[Object(k.jsx)(te.a,{"aria-label":"edit",color:"primary",onClick:function(t){return e.edit(t,o)},children:Object(k.jsx)(ie.a,{})}),Object(k.jsx)(te.a,{"aria-label":"delete",color:"primary",onClick:function(t){return e.delete(t,o)},children:Object(k.jsx)(oe.a,{})})]})]})})},se=function(e){var t=(e.notes||[]).map((function(t,n){return Object(k.jsx)(re,{data:t,delete:e.delete,edit:e.edit,open:e.open},n)}));return Object(k.jsx)(h.a,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:3,minWidth:"100%"},children:t})},le=n(149),de=function(e){var t=Object(i.useState)(""),n=Object(v.a)(t,2),c=n[0],o=n[1],a=(e.notes||[]).filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())||e.content.toLowerCase().includes(c.toLowerCase())}));return Object(k.jsxs)(b.a,{item:!0,xs:16,md:5,sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:10,mb:10,width:"100%"},children:[Object(k.jsx)(g.a,{spacing:2,sx:{width:"100%"},children:Object(k.jsx)(le.a,{type:"search",placeholder:"Search",onChange:function(e){return o(e.target.value)},variant:"standard"})}),Object(k.jsx)(se,{notes:a,delete:e.delete,edit:e.edit,open:e.open})]})},ue=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={notes:Y,isEmpty:!Y.length,previewMode:Y.length>0,editMode:!1,id:!1},i.create=i.create.bind(Object(d.a)(i)),i.cancel=i.cancel.bind(Object(d.a)(i)),i.updateList=i.updateList.bind(Object(d.a)(i)),i.delete=i.delete.bind(Object(d.a)(i)),i.edit=i.edit.bind(Object(d.a)(i)),i.save=i.save.bind(Object(d.a)(i)),i.open=i.open.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"create",value:function(){this.setState({isEmpty:!1,editMode:!0,id:!1,previewMode:!1})}},{key:"cancel",value:function(){this.setState({isEmpty:!0,editMode:!1,previewMode:!0,id:!1})}},{key:"updateList",value:function(e){this.setState({notes:e,id:!1})}},{key:"save",value:function(e,t){var n=this.state.notes;t>=0?n[t]=e:n=[].concat(Object(r.a)(n),[e]),G(n),this.updateList(n)}},{key:"delete",value:function(e,t){e.stopPropagation();var n=this.state.notes.filter((function(e){return e.id!==t}));G(n),this.setState((function(e){return{notes:n,id:t!==e.id&&e.id,editMode:t!==e.id,previewMode:t===e.id}}))}},{key:"edit",value:function(e,t){e.stopPropagation(),this.setState({editMode:!0,previewMode:!1,id:t})}},{key:"open",value:function(e){this.setState({editMode:!1,previewMode:!0,id:e})}},{key:"render",value:function(){var e=this,t={title:"Empty",content:"Choose a note to display."};return this.state.previewMode&&this.state.id&&(t=this.state.notes.find((function(t){return t.id===e.state.id}))),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)(p.a,{maxWidth:"lg",children:[!this.state.notes.length&&this.state.isEmpty&&Object(k.jsx)(X,{create:this.create,headline:"Welcome! <br/> You can create your first note."}),(this.state.notes.length||!this.state.isEmpty)&&Object(k.jsxs)(b.a,{container:!0,spacing:5,columns:16,children:[Object(k.jsx)(de,{notes:this.state.notes,delete:this.delete,edit:this.edit,open:this.open}),Object(k.jsxs)(b.a,{item:!0,xs:16,md:11,className:"col-wrp",children:[(this.state.editMode||this.state.id)&&!this.state.previewMode&&Object(k.jsx)(h.a,{component:"div",className:"notes-create",sx:{mb:10},children:Object(k.jsx)(q,{id:this.state.id,cancel:this.cancel,notes:this.state.notes,save:this.save,create:this.create})}),this.state.previewMode&&Object(k.jsx)(W,{note:t,create:this.create})]})]})]}),Object(k.jsx)("div",{className:"fixed-button",children:Object(k.jsx)(f.a,{color:"secondary","aria-label":"add",onClick:this.create,children:Object(k.jsx)(x.a,{})})})]})}}]),n}(i.Component),je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),o(e),a(e)}))};a.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(ue,{})}),document.getElementById("root")),je()}},[[107,1,2]]]);
//# sourceMappingURL=main.768b7719.chunk.js.map