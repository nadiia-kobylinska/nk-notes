(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{100:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(30),c=n.n(a),r=n(14),s=n(27),l=n(28),d=n(20),u=n(38),j=n(37),b=(n(100),n(155)),h=n(157),f=n(165),p=n(156),m=n(36),v=n.n(m),x=n(31),O=n(13),g=n(158),C=n(145),y=n(154),N=n(82),w=n.n(N),S=n(152),E=n(83),k=n.n(E),M=n(1),L=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).codeView=function(){},i.modeExecCommand=function(e){document.execCommand(e)},i.state={editor:e.editor.current},i.codeView=i.codeView.bind(Object(d.a)(i)),i.modeExecCommand=i.modeExecCommand.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(M.jsxs)(h.a,{children:[Object(M.jsx)(y.a,{onClick:function(){return e.modeExecCommand("bold")},children:Object(M.jsx)("b",{children:"B"})}),Object(M.jsx)(y.a,{onClick:function(){return e.modeExecCommand("italic")},children:Object(M.jsx)("i",{children:"I"})}),Object(M.jsx)(y.a,{onClick:function(){return e.modeExecCommand("underline")},children:Object(M.jsx)("u",{children:"U"})}),Object(M.jsx)(y.a,{onClick:function(){return e.modeExecCommand("insertUnorderedList")},children:"ul"}),Object(M.jsx)(y.a,{onClick:function(){return e.modeExecCommand("insertOrderedList")},children:"ol"})]})}}]),n}(i.Component),I=function(e){var t=Object(i.useRef)(e.value),n=Object(i.useRef)(null),o=Object(i.useState)(null),a=Object(O.a)(o,2),c=(a[0],a[1]);return Object(i.useEffect)((function(){t.current=e.value,c(e.value)}),[e.editNote]),Object(M.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(M.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:e.label}),"html"===e.type&&Object(M.jsx)(L,{editor:n}),Object(M.jsx)("div",{className:"text-field ".concat("html"===e.type?"html-field":""),ref:n,contentEditable:"text"===e.type?"plaintext-only":"",dangerouslySetInnerHTML:{__html:t.current},autoFocus:e.focus,onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),e.counter]})};function T(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var i=0;i<e.childNodes.length&&(n=T(e.childNodes[i],t,n),0!==t.count);i++);return n}function B(e,t){if(t>=0){var n=window.getSelection(),i=T(e,{count:t});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}function A(e){var t,n=window.getSelection(),i=-1;if(n.focusNode&&function(e,t){for(;null!==e;){if(e.id===t.id)return!0;e=e.parentNode}return!1}(n.focusNode,e))for(t=n.focusNode,i=n.focusOffset;t&&t.id!==e.id;)if(t.previousSibling)i+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return i}var F=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.target,o=i.innerText,a=t-o.length,c=100*o.length/t,r=A(i);if(n&&o.length>t){var s=o.slice(0,t),l=o.slice(t);l='<span style="background:red; color:#ffffff">'.concat(l,"</span>"),i.innerHTML=s+l,B(i,r)}return{valid:c<=100,count:a,percent:c<=100?c:100.1}};Element.prototype.removeAttributes=function(e){var t=this;e.forEach((function(e){return t.removeAttribute(e)}))};var R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.querySelectorAll(t).forEach((function(e){e.remove()})),e.querySelectorAll("*").forEach((function(e){"fixed"===e.style.position&&(e.style.position="absolute"),e.removeAttributes(n)}))},_=function(e){return!!e&&(""!==e.content&&""!==e.title&&e.percentCharTitle<=100&&e.percentCharContent<=100)};var D=function(e,t){switch(t.type){case"reset":return t.payload;case"change":return t.payload.isValid=_(e),Object(x.a)(Object(x.a)({},e),t.payload);case"loading":return{loading:t.payload.loading};default:return e}},V=function(e){return 0!==e.percent&&Object(M.jsx)("div",{className:"characters",children:Object(M.jsx)("div",{className:e.count>=0?"circle-wrap":"circle-red circle-wrap",style:{"--deg":e.percent},children:Object(M.jsxs)("div",{className:"circle",children:[Object(M.jsx)("div",{className:"mask full",children:Object(M.jsx)("div",{className:"fill",children:" "})}),Object(M.jsx)("div",{className:"mask half",children:Object(M.jsx)("div",{className:"fill",children:" "})}),Object(M.jsx)("div",{className:"inside-circle",children:e.count<10&&Object(M.jsxs)("span",{className:e.count>=0?"text-orange":"text-red",children:[e.count," "]})})]})})})},P=function(e){var t,n,o,a=e.note,c={loading:!1,title:null!==(t=null===a||void 0===a?void 0:a.title)&&void 0!==t?t:"",content:null!==(n=null===a||void 0===a?void 0:a.content)&&void 0!==n?n:"",editNote:null!==(o=null===a||void 0===a?void 0:a.id)&&void 0!==o?o:null,countCharTitle:0,percentCharTitle:0,countCharContent:0,percentCharContent:0,isValid:!1},r=Object(i.useReducer)(D,c,(function(e){return Object(x.a)(Object(x.a)({},e),{},{isValid:_(e)})})),s=Object(O.a)(r,2),l=s[0],d=s[1];function u(){d({type:"reset",payload:c})}function j(t){t.preventDefault(),d({type:"loading",payload:{loading:!0}}),e.onSave({title:l.title,content:l.content},l.editNote),u()}Object(i.useEffect)((function(){a?a.id!==l.editNote&&d({type:"change",payload:Object(x.a)(Object(x.a)({},c),{},{editNote:a.id,title:a.title,content:a.content})}):u()}),[a]);var b=l.editNote?"Edit Note":"New Note";return Object(M.jsxs)(h.a,{noValidate:!0,component:"form",autoComplete:"off",sx:{mt:1,"& .MuiTextField-root":{m:1,width:"100%"}},onSubmit:j,children:[Object(M.jsx)(h.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start"},children:Object(M.jsx)(g.a,{variant:"h4",component:"div",gutterBottom:!0,className:"fi=orm-title",sx:{mb:5},children:b})}),Object(M.jsx)(I,{type:"text",label:"Title",value:l.title,editNote:l.editNote,changeEv:function(e){var t=F(e,100);d({type:"change",payload:{countCharTitle:t.count,percentCharTitle:t.percent,title:e.target.innerText}})},counter:Object(M.jsx)(V,{count:l.countCharTitle,percent:l.percentCharTitle}),focus:!0}),Object(M.jsx)(I,{type:"html",label:"Content",value:l.content,editNote:l.editNote,changeEv:function(e){R(e.target,"iframe, script, noscript, frame, form, input, textarea",["data-ga ","id","jsaction","jscontroller","onclick","data-ved","ping","data-google-query-id","itemprop"]);var t=F(e,1e3,!1);d({type:"change",payload:{countCharContent:t.count,percentCharContent:t.percent,content:e.target.innerHTML}})},counter:Object(M.jsx)(V,{count:l.countCharContent,percent:l.percentCharContent}),focus:!1}),Object(M.jsxs)(C.a,{direction:"row",spacing:4,sx:{mt:3,justifyContent:"flex-end"},children:[Object(M.jsx)(y.a,{"aria-label":"cancel",variant:"text",color:"secondary",startIcon:Object(M.jsx)(w.a,{}),onClick:e.onCancel,children:"Cancel"}),Object(M.jsx)(S.a,{color:"secondary",onClick:j,loading:l.loading,loadingPosition:"start",startIcon:Object(M.jsx)(k.a,{}),variant:"contained",disabled:!l.isValid,children:"Save"})]})]})},z=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(M.jsx)(P,{note:this.props.note,onCancel:this.props.onCancel,onSave:this.props.onSave})}}]),n}(i.Component),H=n(150),q=function(e){return Object(M.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(M.jsx)(v.a,{}),size:"large",onClick:e.onCreate,sx:{mb:5},children:"Create note"})},J=function(e){var t=e.data,n=t.title,o=t.content,a=Object(i.useRef)(null),c=Object(i.useState)(""),r=Object(O.a)(c,2),s=r[0],l=r[1],d=Object(i.useState)({top:0,left:0}),u=Object(O.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return a.current.querySelectorAll("a").forEach((function(e){e.addEventListener("click",v)})),function(){window.removeEventListener("click",v)}}),[e.data]),Object(i.useEffect)((function(){}),[s]);var f=function(){l("")},p=Boolean(s),m=p?"simple-popover":void 0,v=function(e){var t,n,i;e.preventDefault(),e.target.setAttribute("aria-describedby",m),l(e.target.getAttribute("href")),b({top:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.getBoundingClientRect().y)+(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.getBoundingClientRect().height),left:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getBoundingClientRect().x})};return Object(M.jsxs)(h.a,{component:"div",className:"notes-preview",sx:{mt:1,mb:10,flexGrow:1,width:"100%"},children:[Object(M.jsxs)(h.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start",flexWrap:"wrap-reverse"},children:[Object(M.jsx)(g.a,{variant:"h4",component:"div",gutterBottom:!0,className:"notes-title",sx:{mb:5},children:n}),Object(M.jsx)(q,{onCreate:e.onCreate})]}),Object(M.jsxs)(h.a,{component:"div",children:[Object(M.jsx)(g.a,{ref:a,variant:"body2",gutterBottom:!0,className:"notes-description",dangerouslySetInnerHTML:{__html:o}}),Object(M.jsxs)(H.a,{anchorReference:"anchorPosition",anchorPosition:{top:j.top,left:j.left},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:f,id:m,open:p,children:[Object(M.jsx)(g.a,{variant:"body3",sx:{p:1},children:"Open the link in a new tab?"}),Object(M.jsx)(y.a,{onClick:f,size:"small",children:"No"}),Object(M.jsx)(y.a,{onClick:function(){s&&window.open(s),f()},size:"small",children:"Yes"})]})]})]})},W=function(e){return Object(M.jsx)(J,{data:e.note,onCreate:e.onCreate})},U=function(e,t){var n=localStorage.getItem(e);return JSON.parse(n)||t},Y=U("list",[]),G=function(e){return localStorage.setItem("list",JSON.stringify(e))},K=function(e){return Object(M.jsxs)(h.a,{className:"fullscreen-container",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,m:1},children:[Object(M.jsx)(g.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"notes-title",sx:{textAlign:"center",mb:10},dangerouslySetInnerHTML:{__html:e.headline}}),Object(M.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(M.jsx)(v.a,{}),size:"large",onClick:e.onCreate,children:"Create note"})]})},X=n(160),Q=n(161),Z=n(162),$=n(163),ee=n(164),te=n(84),ne=n.n(te),ie=n(85),oe=n.n(ie);function ae(e,t){return e.length>t?e.substring(0,t-1)+"...":e}var ce=function(e){var t,n=e.data,i=n.title,o=n.content,a=n.id;return Object(M.jsx)(X.a,{className:"notes-item",onClick:function(){return e.open(a)},children:Object(M.jsxs)(Q.a,{component:"div",children:[Object(M.jsxs)(Z.a,{children:[Object(M.jsx)(g.a,{gutterBottom:!0,variant:"h5",component:"div",className:"notes-title",children:i}),Object(M.jsx)(g.a,{variant:"body2",color:"text.secondary",className:"notes-description",dangerouslySetInnerHTML:{__html:ae((t=o,t.replace(/(<([^>]+)>)/gi,"")),200)}})]}),Object(M.jsxs)($.a,{className:"notes-btns",children:[Object(M.jsx)(ee.a,{"aria-label":"edit",color:"primary",onClick:function(t){return e.edit(t,a)},children:Object(M.jsx)(ne.a,{})}),Object(M.jsx)(ee.a,{"aria-label":"delete",color:"primary",onClick:function(t){return e.delete(t,a)},children:Object(M.jsx)(oe.a,{})})]})]})})},re=function(e){var t=(e.notes||[]).map((function(t,n){return Object(M.jsx)(ce,{data:t,delete:e.delete,edit:e.edit,open:e.open},n)}));return Object(M.jsx)(h.a,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:3,minWidth:"100%"},children:t})},se=n(149),le=function(e){var t=Object(i.useState)(""),n=Object(O.a)(t,2),o=n[0],a=n[1],c=(e.notes||[]).filter((function(e){return e.title.toLowerCase().includes(o.toLowerCase())||e.content.toLowerCase().includes(o.toLowerCase())}));return Object(M.jsxs)(b.a,{item:!0,xs:16,md:5,sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:10,mb:10,width:"100%"},children:[Object(M.jsx)(C.a,{spacing:2,sx:{width:"100%"},children:Object(M.jsx)(se.a,{type:"search",placeholder:"Search",onChange:function(e){return a(e.target.value)},variant:"standard"})}),Object(M.jsx)(re,{notes:c,delete:e.delete,edit:e.edit,open:e.open})]})},de=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={notes:Y,isEmpty:!Y.length,previewMode:Y.length>0,editMode:!1,id:!1},i.onCreate=i.onCreate.bind(Object(d.a)(i)),i.onCancel=i.onCancel.bind(Object(d.a)(i)),i.updateList=i.updateList.bind(Object(d.a)(i)),i.delete=i.delete.bind(Object(d.a)(i)),i.edit=i.edit.bind(Object(d.a)(i)),i.onSave=i.onSave.bind(Object(d.a)(i)),i.open=i.open.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"onCreate",value:function(){this.setState({isEmpty:!1,editMode:!0,id:!1,previewMode:!1})}},{key:"onCancel",value:function(){this.setState({isEmpty:!0,editMode:!1,previewMode:!0,id:!1})}},{key:"updateList",value:function(e){this.setState({notes:e,id:!1})}},{key:"onSave",value:function(e,t){var n=this.state.notes,i=n.findIndex((function(e){return e.id===t}));i>=0?(e.id=t,n[i]=e):(e.id=Date.now(),n=[].concat(Object(r.a)(n),[e])),G(n),this.updateList(n)}},{key:"delete",value:function(e,t){e.stopPropagation();var n=this.state.notes.filter((function(e){return e.id!==t}));G(n),this.setState((function(e){return{notes:n,id:t!==e.id&&e.id,editMode:t!==e.id,previewMode:t===e.id}}))}},{key:"edit",value:function(e,t){e.stopPropagation(),this.setState({editMode:!0,previewMode:!1,id:t})}},{key:"open",value:function(e){this.setState({editMode:!1,previewMode:!0,id:e})}},{key:"render",value:function(){var e=this,t={title:"Empty",content:"Choose a note to display."};this.state.previewMode&&this.state.id&&(t=this.state.notes.find((function(t){return t.id===e.state.id})));var n=this.state.notes.find((function(t){return t.id===e.state.id}));return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsxs)(p.a,{maxWidth:"lg",children:[!this.state.notes.length&&this.state.isEmpty&&Object(M.jsx)(K,{onCreate:this.onCreate,headline:"Welcome! <br/> You can create your first note."}),(this.state.notes.length||!this.state.isEmpty)&&Object(M.jsxs)(b.a,{container:!0,spacing:5,columns:16,children:[Object(M.jsx)(le,{notes:this.state.notes,delete:this.delete,edit:this.edit,open:this.open}),Object(M.jsxs)(b.a,{item:!0,xs:16,md:11,className:"col-wrp",children:[(this.state.editMode||this.state.id)&&!this.state.previewMode&&Object(M.jsx)(h.a,{component:"div",className:"notes-create",sx:{mb:10},children:Object(M.jsx)(z,{onCancel:this.onCancel,note:n,onSave:this.onSave})}),this.state.previewMode&&Object(M.jsx)(W,{note:t,onCreate:this.onCreate})]})]})]}),Object(M.jsx)("div",{className:"fixed-button",children:Object(M.jsx)(f.a,{color:"secondary","aria-label":"add",onClick:this.onCreate,children:Object(M.jsx)(v.a,{})})})]})}}]),n}(i.Component),ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),a(e),c(e)}))};c.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(de,{})}),document.getElementById("root")),ue()}},[[107,1,2]]]);
//# sourceMappingURL=main.f569aceb.chunk.js.map